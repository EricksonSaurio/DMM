<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asignar Tarea</title>
    {% load static %}

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="{% static 'directora/css/estilos.css' %}">
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-light">
        <a class="navbar-brand" href="{% url 'inicio' %}">
            <img src="{% static 'inicio/images/DMMLOGO.png' %}" alt="Logo" style="height: 50px;">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <!-- Usar ms-auto para alinear el contenido a la derecha -->
            <ul class="navbar-nav ms-auto">
                {% if rol == 'Directora' %}
                  <li class="nav-item"><a class="nav-link" href="{% url 'inicio' %}">Inicio</a></li>
                  <li class="nav-item"><a class="nav-link" href="{% url 'empleados' %}">Empleados</a></li>
                  <li class="nav-item"><a class="nav-link" href="{% url 'dashboard_proyectos' %}">Dashboard Directora</a></li>
                  <li class="nav-item"><a class="nav-link" href="{% url 'menu_gestion_proyectos' %}">Gestión de Proyectos</a></li>
                  <li class="nav-item"><a class="nav-link" href="{% url 'reporte_proyectos' %}">Reportes</a></li>
                  <li class="nav-item"><a class="nav-link" href="{% url 'menu_tareas' %}">Asignar Tareas</a></li>
                {% elif rol == 'Asistente' %}
                   <li class="nav-item"><a class="nav-link" href="#">Asistencia</a></li>
                   <li class="nav-item"><a class="nav-link" href="#">Documentos</a></li>
                {% elif rol == 'Técnica de Campo' %}
                  <li class="nav-item"><a class="nav-link" href="#">Campo</a></li>
                  <li class="nav-item"><a class="nav-link" href="#">Informes</a></li>
                {% else %}
                    <li class="nav-item"><a class="nav-link" href="#">Menú por Defecto</a></li>
                {% endif %}
                <!-- Botón de Cerrar Sesión -->
                <li class="nav-item">
                    <form method="POST" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-danger ms-2">Cerrar Sesión</button>
                    </form>
                </li>
                <!-- Modo Oscuro Toggle Switch -->
                <li class="nav-item ms-3">
                    <div class="custom-switch">
                        <input type="checkbox" id="darkModeSwitch" class="toggle-switch">
                        <label for="darkModeSwitch" class="switch-label">Modo Oscuro</label>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
      <!-- Mostrar mensajes de Django (éxito o error) -->
      {% for message in messages %}
      <div class="django-message" data-tag="{{ message.tags }}" style="display: none;">
          {{ message }}
      </div>
     {% endfor %}
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="form-container">
                    <h3 class="form-title">Asignar Nueva Tarea</h3>

                    <!-- Formulario para asignar tareas -->
                    <form method="POST">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="titulo" class="form-label">Título de la Tarea</label>
                            <input type="text" class="form-control" id="titulo" name="titulo" required>
                        </div>

                        <div class="mb-3">
                            <label for="descripcion" class="form-label">Descripción</label>
                            <textarea class="form-control" id="descripcion" name="descripcion" rows="4" required></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="fecha_limite" class="form-label">Fecha Límite</label>
                            <input type="date" class="form-control" id="fecha_limite" name="fecha_limite" required>
                        </div>

                        <div class="mb-3">
                            <label for="empleado" class="form-label">Asignar a</label>
                            <select name="empleado" class="form-control">
                                {% for empleado in empleados %}
                                    <option value="{{ empleado.id }}">{{ empleado.nombre }} {{ empleado.apellido }}</option>
                                {% endfor %}
                            </select>                            
                        </div>

                        <button type="submit" class="btn btn-success w-100">Asignar Tarea</button>
                    </form>

                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS y dependencias -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- Scripts personalizados -->
 
    <script src="{% static 'directora/js/sweetalertTarea.js' %}"></script>
    <script src="{% static 'inicio/js/scripts.js' %}"></script>
</body>
</html>
